- background_color ||= false
- text_color ||= false
- caption ||= false
.style-editor
  .insides
    %h2 Style Editor

    - if background_color
      .widget
        %h3 background
        - color = @page && @page.background_color ? @page.background_color : "ffffff"
        = text_field_tag "pages[#{@page_number}][background_color]", color, :class => 'hidden', :update => "background_color"
        .color-picker{:style => "background-color: ##{color}", "affected-style" => "background-color", :update => "background-color-affected"}    

    - if text_color
      .widget
        %h3 text
        - color = @page && @page.text_color ? @page.text_color : "444444"
        = text_field_tag "pages[#{@page_number}][text_color]", color, :class => 'hidden', :update => "text_color"
        .color-picker{:style => "background-color: ##{color}", "affected-style" => "color", :update => "color-affected"}
        
    - if caption
      .widget
        %h3 caption background
        - color = @page && @page.caption && @page.caption.background_color ? @page.caption.background_color : "ffffff"
        = text_field_tag "pages[#{@page_number}][caption_background_color]", color, :class => 'hidden', :update => "caption_background_color"
        .color-picker{:style => "background-color: ##{color}", "affected-style" => "background-color", :update => "caption-background-color-affected"}
      .widget
        %h3 caption text
        - color = @page && @page.caption && @page.caption.text_color ? @page.caption.text_color : "444444"
        = text_field_tag "pages[#{@page_number}][caption_text_color]", color, :class => 'hidden', :update => "caption_text_color"
        .color-picker{:style => "background-color: ##{color}", "affected-style" => "color", :update => "caption-color-affected"}