.user-profile
  = render "users/user_info"
  
  .the-rest
    #activity
    
      = render "users/activity_filter"
      
      #activity-body
        #activity-loading Just a momeant...

        - if @activity.empty? && me?(@user)
          #new-user-no-activity
            %h1
              %span Yay! Weâ€™ve given you 5 reward coins (
              %span.coin
              %span ) for free!
            %p
              %span Use these coins to reward others for their great content, which can be found on the
              = link_to "Community Page.", community_path, :class => "community"
            %p
              %span As you start rewarding, and
              = link_to "creating your own content", creations_user_path(current_user)
              %span , you will see a list of that activity and its impact show up here.
          
            #activity-example
              Example activity:
        - else
          %ul#activity-list
            = render @activity
            - if @activity.empty?
              %li.none No activity.
          = link_to "Load more...", "#", :id => "load-more-activity"
      
        #activity-sidebar
          #leaderboards
          
            #top-supporters.list
              .info Top Supporters
              %ul
                - @top_supporters.each do |patron_and_rewards|
                  %li
                    = link_to truncate(patron_and_rewards.first.name, :length => 20), user_path(patron_and_rewards.first)
                    %span.rewards= patron_and_rewards.second

            #favorite-creators.list
              .info Favorite Creators
              %ul
                - @favorite_creators.each do |patron_and_rewards|
                  %li
                    = link_to truncate(patron_and_rewards.first.name, :length => 20), user_path(patron_and_rewards.first)
                    %span.rewards= patron_and_rewards.second


:javascript
  var activity_url = '/users/' + #{@user.id} + '/activity';
= javascript_include_tag "users/activity"
  
- if me?(@user)
  :javascript
    mpq.track('Viewed My Activity');
- else
  :javascript
    mpq.track('Viewed Activity', {mp_note: '#{@user.name}'});